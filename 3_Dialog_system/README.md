# Introduction
- History
    - Rule-based (e.g., [AIML](https://medium.com/pandorabots-blog/aiml-tutorial-creating-a-context-aware-multi-functional-chatbot-e5e82c027a6a))
    - Statistical-based (e.g., [POMDP (Partially Observable Markov Decision Process)](http://mi.eng.cam.ac.uk/~sjy/papers/ygtw13.pdf): the next action is determined by an estimated current state)
    - Deep learning-based
- Categories
    - Task-oriented (in closed domain)
    - Non-task-oriented (i.e., chat bots [8], in open domain) [1]
    - Question answering
      - FAQ based
      - KBQA
- **Question answering** tells us how to do and **dialogue system** tells us the steps to do it successfully

# 1. Task-oriented
## 1.1 Pipeline (ASR -> NLU -> DM -> NLG)
  - NLU: maps the utterance into semantic slots
    - **Domain identification**: text classification
    - **User domain specific intent detection**: text classification (We can incorporate preceding text information during perform classification, see [7])
        - [Contextual(i.e. multi-turn) SLU with memory network](https://www.microsoft.com/en-us/research/wp-content/uploads/2016/06/IS16_ContextualSLU.pdf) with  [implementation](https://github.com/yvchen/ContextualSLU) and [tutorial](https://www.coursera.org/learn/language-processing/lecture/3KFLa/adding-context-to-nlu)
    - **Slot filling**: sequence labeling
        - **Parameters** of the INTENT
        - Since **slots are intent-specific**, we can [**Joint learning of intent identification and slot filling**](https://www.ijcai.org/Proceedings/16/Papers/425.pdf), but [**put more emphasis** on slot error](https://arxiv.org/pdf/1703.07055.pdf)
        - Add [lexicon feature](https://arxiv.org/pdf/1511.08308v4.pdf)
    - Industrial
        - **Not slot**: for example, the user do not like something
        - **Interchange of different intents**: when the bot ask the slot of one intent, the user ask another intent
        - To avoid OOV
            - Character-based classification and sequence labeling
            - Fasttext sub n-gram
            - Combine CNN or LSTM on character embedding and word embedding
        - New intent or new domain
            - Zero-shot learning
            ![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/Rokid_new_intent.png)
  - DM: Dialogue Management
    - **Dialogue State Tracking**: a probability distribution over each slot for each turn
        - [DSTC](http://camdial.org/~mh521/dstc/downloads/handbook.pdf)
        - [TRADE](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/papers_DST/Transferable_Multi-Domain_State_Generator_for_Task-Oriented_Dialogue_Systems.pdf), with [implementation](https://github.com/jasonwu0731/trade-dst)
        
    - **Policy Learning**: generates next action
        - Supervised learning
        - Reinforcement learning
            - Entity: **agent** and **environment** 
            - Rule: agent takes **action** and environment gives **reward** and **state**
            - **Policy**: a rule that the agent should follow to select actions given the current state
    - [Models](https://www.bilibili.com/video/av30291543?from=search&seid=6125249948345166413)
        - **Rule-based** is popular in production system [8]
            - [Frame based](https://web.stanford.edu/class/cs224s/lectures/224s.17.lec10.pdf)
![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/DM_Frame_based.png)
            - Finite state machine
                - Node is action
                - Edge is slot status
        ![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/DM_Finite_state_machine.png)
            - Agenda based
            ![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/DM_Agenda_based.png)
        - [Markov Decision Process](https://web.stanford.edu/class/cs224s/lectures/224s.17.lec11.pdf)
        ![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/DM_Markov_decision_process.png)
        - [Neural network](https://web.stanford.edu/class/cs224s/lectures/224s.17.lec12.pdf)
        ![](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/DM_End_to_end.png)
        
  - NLG: convert action to utterance
      - **Action template**
      - **Hybrid model** [8]
          - If the user dialogue actions can be found in the predefined sentence templates, the **template-based NLG ** is applied; otherwise, the utterance is generated by the **model-based NLG**
          
## 1.2 End-to-end
  - [2017_IJCNLP_End-to-End Task-Completion Neural Dialogue Systems.pdf](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/End-to-End_Task-Completion_Neural_Dialogue_Systems.pdf), [A_User_Simulator_for_Task-Completion_Dialogues](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/A_User_Simulator_for_Task-Completion_Dialogues.pdf): RL to train DM based on simulation data
      - RL is based on **whole dialogue**, not each turn. A rule-based agent is used to warm-start the system (i.e., experience replay), via supervised learning. **Episode** is a whole dialogue. `s_t, a_t, r, s_t+1`
      - **Error control** to mimic mistake of real user
      - Based on `request_slots` (i.e., user want to ask) and `inform_slots` (i.e., user can provide) to generate simulation data
      - A [simplified](https://github.com/maxbren/GO-Bot-DRL) version, and [blog](https://towardsdatascience.com/training-a-goal-oriented-chatbot-with-deep-reinforcement-learning-part-i-introduction-and-dce3af21d383), RECOMMEND!
  - [2017_EACL_A Network-based End-to-End Trainable Task-oriented Dialogue System](https://arxiv.org/abs/1604.04562)
  - [2017_ICLR_Learning_end-to-end_goal_oriented_dialog](https://arxiv.org/abs/1605.07683): memory network
  
  - Report of [Dr.Che](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_NLPCC2018/NLPCC2018_Day3_Tencent_workshop_chewangxiang.pdf)

## 1.3 Knowledge grounded
- [Mem2Seq](https://github.com/HLTCHKUST/Mem2Seq)
- [GLMP](https://github.com/jasonwu0731/GLMP)


# 2. Non-task-oriented
## 2.1 Retrieval-based 
  - Given pre-defined responses, retrieval based model predict one response given current input context [2]
  - Two steps [3]:  
    - retrieval top-k response candidates by directly matching
    - reranking and give best candidate by incorporing context
  - **Multi-turn matching**
    - [https://github.com/JasonForJoy/Leaderboards-for-Multi-Turn-Response-Selection](Leaderboard of state-of-the-art models)
  
## 2.2 Generative  
  - Generative new responses from scratch [2]
  - **Multi-turn**
    - [HRED](https://arxiv.org/abs/1507.04808) transfered from [**query suggestion**](https://arxiv.org/pdf/1507.02221.pdf), see [industrail application](https://mp.weixin.qq.com/s/6dKticG2I2zqlxnZ3W0ZgQ)
    - [VHRED](https://arxiv.org/abs/1605.06069)
    - [Building End-To-End Dialogue Systems Using Generative Hierarchical Neural Network Models](https://arxiv.org/pdf/1507.04808.pdf)
    - [Context-sensitive ACL 2018](http://aclweb.org/anthology/C18-1206)
  - **Avoid generic responses**
    - [Mutual information](https://web.stanford.edu/class/cs224s/lectures/224s.17.lec12.pdf)
  - [CS224s slides](https://web.stanford.edu/class/cs224s/lectures/224s.17.lec12.pdf)
  
  
## 2.3 Hybrid 
  - [Alime](http://www.aclweb.org/anthology/P/P17/P17-2079.pdf)

# 3. Question answering
## 3.1 FAQ based
  - [FAQ automatically building](https://flashgene.com/archives/112570.html)
  - [Industrial experiences](https://zhuanlan.zhihu.com/p/50799128)
    
## 3.2 KBQA
to do...


# Dataset
- [bAbI](https://research.fb.com/downloads/babi/): book a table at a restaurant
- [Ubuntu Dialogue Corpus v2.0](https://github.com/rkadlec/ubuntu-ranking-dataset-creator)
- [A New Multi-Turn, Multi-Domain, Task-Oriented Dialogue Dataset](https://nlp.stanford.edu/blog/a-new-multi-turn-multi-domain-task-oriented-dialogue-dataset/)
- [Dialog State Tracking Challenge](https://www.microsoft.com/en-us/research/event/dialog-state-tracking-challenge/)
- [Douban Conversation Corpus](https://github.com/MarkWuNLP/MultiTurnResponseSelection#douban-conversation-corpus)
- [2017第六届全国社会媒体处理大会之中文人机对话技术评测](https://github.com/HITlilingzhi/SMP2017ECDT-DATA)


# Implementation
- [Baidu UNIT](https://ai.baidu.com/unit/home) and [lecture](https://mp.weixin.qq.com/s/7wX258Joi-bs_4FbWbwF0A)
- [Google DialogFlow](https://dialogflow.com/) and [lecture](https://www.coursera.org/learn/conversational-experiences-dialogflow)
- [Rasa](https://www.rasa.com/)
    - [Rasa NLU](https://github.com/RasaHQ/rasa_nlu)
        - [Intent classification](https://blog.rasa.com/rasa-nlu-in-depth-part-1-intent-classification/)
        - [Entity recognition](https://blog.rasa.com/rasa-nlu-in-depth-part-2-entity-recognition/)
    - [Rasa Core](https://github.com/RasaHQ/rasa_core)
        - [Transformer Embedding Policy](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/Dialogue_Transformers.pdf), refer to [arXiv](https://arxiv.org/abs/1910.00486) for latest version
    - [Rasa UI](https://github.com/paschmann/rasa-ui)
    - `tensorflow_embedding` in NLU from [StarSpace: Embed All The Things!](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/StarSpace-Embed%20_All_The_Things!.pdf)
    - [Chinese chatbot example](https://github.com/zqhZY/_rasa_chatbot)

- [ConvLab](https://github.com/ConvLab/ConvLab): multi-domain end-to-end dialog system platform, aiming to enable researchers to quickly set up experiments
- [wxpy](https://github.com/youfou/wxpy)
- [wxBot](https://github.com/liuwons/wxBot)
- [WeRoBot](https://github.com/offu/WeRoBot): weChat bot
- [Awesome-Chatbot](https://github.com/fendouai/Awesome-Chatbot) gives a list of public repositories about chatbot
- [DeepPavlov](https://github.com/deepmipt/DeepPavlov)
- [Wit.ai](https://wit.ai/)
- [ChatterBot](https://github.com/gunthercox/ChatterBot)
- [pyDial](http://www.camdial.org/pydial/): The Cambridge University Python Multi-domain Statistical Dialogue System Toolkit

# Products
- [IP梦工厂](https://ipd.gowild.cn/login)
- [图灵机器人](http://www.turingapi.com/)
- [小i机器人](http://www.xiaoi.com/)
- [海知智能](http://ruyi.ai/)
- [XiaoIce](https://www.msxiaobing.com/)
- [Pandorabots](https://home.pandorabots.com/home.html)
- [Rokid](https://www.rokid.com/cn/)



# Leading Researchers
- [MiuLab](https://github.com/MiuLab)
- [Minlie Huang](http://coai.cs.tsinghua.edu.cn/hml/dataset/)
- [Rui Yan](http://www.ruiyan.me/)
- [Nan Duan](https://www.microsoft.com/en-us/research/people/nanduan/)


# References
[1] [A Survey on Dialogue Systems: Recent Advances and New Frontiers](https://arxiv.org/pdf/1711.01731.pdf)  
[2] Deep Learning for Chatbots [part 1](http://www.wildml.com/2016/04/deep-learning-for-chatbots-part-1-introduction/), [part 2](http://www.wildml.com/2016/07/deep-learning-for-chatbots-2-retrieval-based-model-tensorflow/)  
[3] https://c.m.163.com/news/l/180148.html?spssid=fba792c95ad60299db5435a91da37e10&spsw=1&spss=other.  
[4] [A Network-based End-to-End Trainable Task-oriented Dialogue System](http://mi.eng.cam.ac.uk/~sjy/papers/wgmv17.pdf), and [implementation](https://github.com/shawnwun/NNDIAL), Ali Xiaomi  
[5] [End-to-end LSTM-based dialog control optimized with supervised and reinforcement learning](https://arxiv.org/pdf/1606.01269.pdf), [Hybrid Code Networks: practical and efficient end-to-end dialog control with supervised and reinforcement learning](https://arxiv.org/pdf/1702.03274.pdf), and [implementation](https://github.com/voicy-ai/DialogStateTracking)  
[6] [Learning End-to-End Goal-Oriented Dialog](https://arxiv.org/pdf/1605.07683.pdf) from Facebook, and [implementation](https://github.com/vyraun/chatbot-MemN2N-tensorflow)  
[7] [Sequential Short-Text Classification with
Recurrent and Convolutional Neural Networks](https://arxiv.org/pdf/1603.03827.pdf)  
[8] [“Chitty-Chitty-Chat Bot”: Deep Learning for Conversational AI](https://www.ijcai.org/proceedings/2018/0778.pdf)  
[9] [End-to-End Task-Completion Neural Dialogue Systems](http://aclweb.org/anthology/I17-1074), [implementation](https://github.com/MiuLab/TC-Bot)  
[10] [任务型对话系统研究综述](https://github.com/gaoisbest/NLP-Projects/blob/master/3_Dialog_system/materials_others/%E4%BB%BB%E5%8A%A1%E5%9E%8B%E5%AF%B9%E8%AF%9D%E7%B3%BB%E7%BB%9F%E7%A0%94%E7%A9%B6%E7%BB%BC%E8%BF%B0.pdf)  
[11] [多轮人机对话与对话管理技术探索与实践](https://mp.weixin.qq.com/s/k-Uatc59J1MxZY8ZaUwS8w)  
[12] [任务导向型对话系统——对话管理模型研究最新进展](https://mp.weixin.qq.com/s/6wSz8wAi0vrHebZ0EJ2sZA)  
[13] [阿里巴巴高级算法专家李永彬：小蜜智能对话开发平台的技术探索与场景实践](https://www.bilibili.com/video/av50791818/?redirectFrom=h5)  
[15] [How to use question to increase Chatbot's interactivity ?](https://mp.weixin.qq.com/s/5yEcgzhEVx0mlBFerZNTgQ)

